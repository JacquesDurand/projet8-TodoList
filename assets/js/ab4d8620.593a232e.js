"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[505],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),l=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=l(n),f=o,d=m["".concat(p,".").concat(f)]||m[f]||u[f]||a;return n?r.createElement(d,i(i({ref:t},c),{},{components:n})):r.createElement(d,i({ref:t},c))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},668:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var r=n(7462),o=(n(7294),n(3905));const a={sidebar_position:2},i="Tests",s={unversionedId:"app/performances/tests",id:"app/performances/tests",title:"Tests",description:"Tests are a huge part of an application, to make sure everything works as intended before",source:"@site/docs/app/performances/tests.md",sourceDirName:"app/performances",slug:"/app/performances/tests",permalink:"/projet8-TodoList/docs/app/performances/tests",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"DocumentationApp",previous:{title:"Quality",permalink:"/projet8-TodoList/docs/app/performances/quality"},next:{title:"Performances",permalink:"/projet8-TodoList/docs/app/performances/"}},p={},l=[{value:"Coverage",id:"coverage",level:2},{value:"Mutation score",id:"mutation-score",level:2}],c={toc:l};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"tests"},"Tests"),(0,o.kt)("p",null,"Tests are a huge part of an application, to make sure everything works as intended before\nshipping anything."),(0,o.kt)("p",null,'We will try to show here how we can produce "some" numbers to verify that the quantity\nand quality of our tests might be enough.'),(0,o.kt)("h2",{id:"coverage"},"Coverage"),(0,o.kt)("p",null,"The code coverage corresponds to the percentage of our code that has been executed by our tests."),(0,o.kt)("p",null,"For instance, if I have the following service:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},"class ExampleService\n{\n     public function isStrictlyOverTwo(int $number): bool\n     {\n         if ($number > 2) {\n            return true;\n         }\n         return false;\n     }\n}\n")),(0,o.kt)("p",null,"and the following test:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},"class ExampleServiceTest extends \\PHPUnit\\Framework\\TestCase\n{\n    public function __construct(private readonly ExampleService $exampleService)\n    {\n    }\n\n    public function testIsStrictlyOverTwo(): void\n    {\n        $result = $this->exampleService->isStrictlyOverTwo(5);\n        $this->assertTrue($result);\n    }\n}\n")),(0,o.kt)("p",null,'Then we won\'t be covering the whole "isStrictlyOverTwo" function because we did not test\nthe case where ',(0,o.kt)("inlineCode",{parentName:"p"},"$number <= 2"),(0,o.kt)("br",{parentName:"p"}),"\n","So our coverage for this service won't be 100%, which will show us that we might have forgotten\nsome cases to test !"),(0,o.kt)("p",null,"To execute your tests with a coverage report:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"make phpunit-coverage\n")),(0,o.kt)("p",null,"Then go to ",(0,o.kt)("inlineCode",{parentName:"p"},"coverage")," and open ",(0,o.kt)("inlineCode",{parentName:"p"},"index.html")," in your favorite browser"),(0,o.kt)("h2",{id:"mutation-score"},"Mutation score"),(0,o.kt)("p",null,"Sometimes, when we test a function, or even a complete feature, we might forget some cases that\ncould happen in a real life environment for known or unknown reasons.",(0,o.kt)("br",{parentName:"p"}),"\n","Mutation testing, via ",(0,o.kt)("a",{parentName:"p",href:"https://infection.github.io/"},"Infection")," in our case, implies mutating our\ncode in small ways (pass an argument to null, remove an element from an array ...) and run our tests\nto see if anything breaks."),(0,o.kt)("p",null,"The mutation score is computed by our CI and shown on the Readme."),(0,o.kt)("p",null,"Keep in mind that we do not necessary need to kill ",(0,o.kt)("em",{parentName:"p"},"every")," mutant found by Infection. For instance,\nwe haven't here tested that every label coming from our FormTypes is actually shown in the page,\nand Infection will tell us so. But we see them nonetheless and it would be tedious to test\nevery little thing."),(0,o.kt)("p",null,"It can provide us with great info sometimes though, do not hesitate to run it after adding a new feature."))}u.isMDXComponent=!0}}]);